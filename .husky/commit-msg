#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo
echo 'âœï¸ğŸ“ Commit-msg ğŸ“âœï¸'

echo 'ğŸ”ğŸ” Vamos verificar o commitlint. ğŸ”ğŸ”'

npx --no -- commitlint --edit ||
(
    echo 'Algo falhou no commitlint. ğŸ˜¥'
    echo 'Veja os erros acima e tente novamente. ğŸ˜‰'
    false;
)

npx semantic-commit-emoji "$@"

echo 'Commitlint ok! ğŸ‰âœ…'
echo
echo 'âœ…âœ…âœ…âœ… Tudo certo'
echo 'ğŸ“âœï¸ Commit-msg finalizado. ğŸ“âœï¸'
echo
echo 'Seu commit estÃ¡ pronto para ser enviado. ğŸš€'